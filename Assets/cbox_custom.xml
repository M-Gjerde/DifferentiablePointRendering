<scene version="3.0.0">

    <integrator type="path">
        <integer name="max_depth" value="6"/>
    </integrator>


    <sensor type="perspective" id="camera1">
        <string name="fov_axis" value="smaller"/>
        <float name="near_clip" value="0.01"/>
        <float name="far_clip" value="100.0"/>
        <float name="focus_distance" value="1000"/>
        <float name="fov" value="40.3077"/>
        <transform name="to_world">
            <lookat origin="0,-4,1" target="0,0,1" up="0,0,1"/>
        </transform>
        <sampler type="independent">
            <integer name="sample_count" value="128"/>
        </sampler>
        <film type="hdrfilm">
            <integer name="width" value="400"/>
            <integer name="height" value="400"/>
            <rfilter type="tent"/>
            <string name="pixel_format" value="rgb"/>
            <string name="component_format" value="float32"/>
        </film>
    </sensor>



    <sensor type="perspective" id="camera3">
        <string name="fov_axis" value="smaller"/>
        <float name="near_clip" value="0.01"/>
        <float name="far_clip" value="100.0"/>
        <float name="focus_distance" value="1000"/>
        <float name="fov" value="75.3077"/>
        <transform name="to_world">
            <lookat origin="0.99, 0,1" target="0,0,1" up="0,0,1"/>
        </transform>
        <sampler type="independent">
            <integer name="sample_count" value="128"/>
        </sampler>
        <film type="hdrfilm">
            <integer name="width" value="400"/>
            <integer name="height" value="400"/>
            <rfilter type="tent"/>
            <string name="pixel_format" value="rgb"/>
            <string name="component_format" value="float32"/>
        </film>
    </sensor>


    <!-- BSDFs -->
    <bsdf type="diffuse" id="gray">
        <rgb name="reflectance" value="0.1,0.1,0.1"/>
    </bsdf>
    <bsdf type="diffuse" id="black">
        <rgb name="reflectance" value="0.0,0.0,0.0"/>
    </bsdf>
    <bsdf type="diffuse" id="white">
        <rgb name="reflectance" value="1.0, 1.0, 1.0"/>
    </bsdf>
    <bsdf type="diffuse" id="yellow">
        <rgb name="reflectance" value="1.0, 1.0, 0.0"/>
    </bsdf>
    <bsdf type="diffuse" id="light_gray">
        <rgb name="reflectance" value="0.8, 0.8, 0.8"/>
    </bsdf>
    <bsdf type="diffuse" id="green">
        <rgb name="reflectance" value="0.0430135,0.570068,0.0443706"/>
    </bsdf>
    <bsdf type="diffuse" id="red">
        <rgb name="reflectance" value="0.570068,0.0430135,0.0443706"/>
    </bsdf>

    <bsdf type="diffuse" id="blue">
        <rgb name="reflectance" value="0.105421,0.076425,0.37798"/>
    </bsdf>

    <!-- Floor:
    <shape type="obj" id="bunny">
        <string name="filename" value="meshes/bun_zipper_res3.ply"/>
        <transform name="to_world">
            <translate x="0.3" y="0.0" z="0.3"/>
            <scale x="1.2" y="1.2" z="1.2"/>
        </transform>
        <ref id="light_gray"/>
    </shape>
-->


    <!-- Floor: z=0, normal +Z (no rotation) -->
    <shape type="obj" id="floor">
        <string name="filename" value="meshes/rectangle.obj"/>
        <transform name="to_world">
            <translate x="0" y="0" z="0"/>
        </transform>
        <ref id="gray"/>
    </shape>


    <!-- Ceiling: z=2, normal -Z -->
    <shape type="obj" id="ceiling">
        <string name="filename" value="meshes/rectangle.obj"/>
        <transform name="to_world">
            <rotate x="1" y="0" z="0" angle="180"/>
            <translate x="0" y="0" z="2"/>
        </transform>
        <ref id="blue"/>
    </shape>

    <!-- Back wall: y=2, normal -Y -->
    <shape type="obj" id="back">
        <string name="filename" value="meshes/rectangle.obj"/>
        <transform name="to_world">
            <rotate x="1" y="0" z="0" angle="90"/>
            <translate x="0" y="1" z="1"/>
        </transform>
        <ref id="yellow"/>
    </shape>

    <!-- Left wall: x=-1, normal +X -->
    <shape type="obj" id="left_red">
        <string name="filename" value="meshes/rectangle.obj"/>
        <transform name="to_world">
            <rotate x="0" y="1" z="0" angle="90"/>
            <translate x="-1" y="0" z="1"/>
        </transform>
        <ref id="red"/>
    </shape>

    <!-- Right wall: x=+1, normal -X -->
    <shape type="obj" id="right_green">
        <string name="filename" value="meshes/rectangle.obj"/>
        <transform name="to_world">
            <rotate x="0" y="1" z="0" angle="-90"/>
            <translate x="1" y="0" z="1"/>
        </transform>
        <ref id="green"/>
    </shape>

    <!-- Ceiling light: small, facing -Z
       FlashLight:
            <rotate x="1" y="0" z="0" angle="-90"/>
            <scale x="0.15" y="0.15" z="0.15"/>
            <translate x="0.0" y="-2" z="1.5"/>

            Side light
             <rotate x="0" y="1" z="0" angle="135"/>
            <scale x="0.1" y="0.1" z="0.1"/>
            <translate x="-0.8" y="0.0" z="1.3"/>

            -->
    <shape type="obj" id="light">
        <string name="filename" value="meshes/rectangle.obj"/>
        <transform name="to_world">
            <rotate x="0" y="1" z="0" angle="180"/>
            <scale x="0.01" y="0.01" z="0.01"/>
            <translate x="0.0" y="0.0" z="1.98"/>
        </transform>
        <bsdf type="diffuse"><rgb name="reflectance" value="0,0,0"/></bsdf>
        <!--  <emitter type="area"><rgb name="radiance" value="800000,600000,390000"/></emitter> -->
         <emitter type="area"><rgb name="radiance" value="0.9,0.9,0.7"/></emitter>
     </shape>
 </scene>
